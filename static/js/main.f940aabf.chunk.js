(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{85:function(t,e,n){},87:function(t,e,n){},88:function(t,e,n){},89:function(t,e,n){},90:function(t,e,n){},91:function(t,e,n){},92:function(t,e,n){},93:function(t,e,n){},94:function(t,e,n){},95:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"fetchContactsRequest",(function(){return x})),n.d(c,"fetchContactsSuccess",(function(){return g})),n.d(c,"fetchContactsError",(function(){return C})),n.d(c,"addContactRequest",(function(){return w})),n.d(c,"addContactSuccess",(function(){return y})),n.d(c,"addContactError",(function(){return _})),n.d(c,"deleteContactRequest",(function(){return N})),n.d(c,"deleteContactSuccess",(function(){return k})),n.d(c,"deleteContactError",(function(){return E})),n.d(c,"changeFilter",(function(){return S}));var r={};n.r(r),n.d(r,"getContacts",(function(){return D})),n.d(r,"getFilter",(function(){return B})),n.d(r,"getLoading",(function(){return H})),n.d(r,"getTotalContactsCount",(function(){return V})),n.d(r,"getVisibleContacts",(function(){return J}));var a={};n.r(a),n.d(a,"fetchContacts",(function(){return Q})),n.d(a,"addContact",(function(){return W})),n.d(a,"deleteContact",(function(){return X}));var o,i,s,u=n(1),l=n.n(u),b=n(11),f=n.n(b),d=n(5),j=n(6),O=n(32),h=n.n(O),p=n(3),m=n(34),v=n(8),x=Object(j.b)("contacts/fetchContactsRequest"),g=Object(j.b)("contacts/fetchContactsSuccess"),C=Object(j.b)("contacts/fetchContactsError"),w=Object(j.b)("contacts/addContactRequest"),y=Object(j.b)("contacts/addContactSuccess"),_=Object(j.b)("contacts/addContactError"),N=Object(j.b)("contacts/deleteContactRequest"),k=Object(j.b)("contacts/deleteContactSuccess"),E=Object(j.b)("contacts/deleteContactError"),S=Object(j.b)("contacts/changeFilter"),z=Object(j.c)([],(o={},Object(p.a)(o,g,(function(t,e){return e.payload})),Object(p.a)(o,y,(function(t,e){var n=e.payload;return[].concat(Object(m.a)(t),[n])})),Object(p.a)(o,k,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),o)),T=Object(j.c)("",Object(p.a)({},S,(function(t,e){return e.payload}))),L=Object(j.c)(!1,(i={},Object(p.a)(i,x,(function(){return!0})),Object(p.a)(i,g,(function(){return!1})),Object(p.a)(i,C,(function(){return!1})),Object(p.a)(i,w,(function(){return!0})),Object(p.a)(i,y,(function(){return!1})),Object(p.a)(i,_,(function(){return!1})),Object(p.a)(i,N,(function(){return!0})),Object(p.a)(i,k,(function(){return!1})),Object(p.a)(i,E,(function(){return!1})),i)),P=Object(j.c)(null,(s={},Object(p.a)(s,x,(function(){return!1})),Object(p.a)(s,g,(function(){return!1})),Object(p.a)(s,C,(function(){return!0})),Object(p.a)(s,w,(function(){return!1})),Object(p.a)(s,y,(function(){return!1})),Object(p.a)(s,_,(function(){return!0})),Object(p.a)(s,N,(function(){return!1})),Object(p.a)(s,k,(function(){return!1})),Object(p.a)(s,E,(function(){return!0})),s)),F=Object(v.b)({items:z,filter:T,loading:L,error:P}),I=Object(j.a)({reducer:{contacts:F},middleware:function(t){return t().concat(h.a)},devTools:!1}),M=n(12),R=n(33),q=n.n(R),A=n(15),D=function(t){return t.contacts.items},B=function(t){return t.contacts.filter},H=function(t){return t.contacts.loading},V=function(t){return D(t).length},J=Object(A.a)([D,B],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){var c=t.name,r=t.number;return c.toLowerCase().includes(n)||r.includes(e)}))})),Z=n(10),U=n.n(Z),$=n(18),G=n(14),K=n.n(G);K.a.defaults.baseURL="http://localhost:7777";var Q=function(){return function(){var t=Object($.a)(U.a.mark((function t(e){var n,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(x()),t.prev=1,t.next=4,K.a.get("/contacts");case 4:n=t.sent,c=n.data,e(g(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(C(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},W=function(t,e){return function(){var n=Object($.a)(U.a.mark((function n(c){var r,a,o;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:t,number:e},c(w()),n.prev=2,n.next=5,K.a.post("/contacts",r);case 5:a=n.sent,o=a.data,c(y(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),c(_(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},X=function(t){return function(){var e=Object($.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(N()),e.prev=1,e.next=4,K.a.delete("/contacts/".concat(t));case 4:n(k(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(E(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},Y=n(9),tt=n(17),et=n.n(tt),nt=(n(84),function(){return et.a.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"3000",extendedTimeOut:"500",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}});function ct(t){var e=Object(u.useState)(t),n=Object(M.a)(e,2),c=n[0],r=n[1];return{bind:{value:c,onChange:function(t){r(t.target.value)}},value:c}}n(85);var rt=n(2),at=function(t){var e=t.onClose,n=ct(""),c=ct(""),o=Object(d.b)(),i=Object(d.c)(r.getContacts),s=function(t){return i.find((function(e){var n=e.name,c=e.number;return n.toLowerCase()===t.toLowerCase()||c.toLowerCase()===t.toLowerCase()}))},u=function(t){et.a.error("Contact ".concat(t," is already in contacts")),nt()};return Object(rt.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault();var r=n.value,i=c.value;s(r)?u(r):s(i)?u(i):(o(a.addContact(r,i)),e())},children:[Object(rt.jsxs)("label",{className:"form__label",children:[Object(rt.jsx)("span",{className:"form__name",children:"Name"}),Object(rt.jsx)("input",Object(Y.a)(Object(Y.a)({},n.bind),{},{className:"form__input",autoComplete:"off",type:"text",name:"name",placeholder:"Nikoly Mosalov",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only consist of letters, apostrophes, dashes and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan, etc.",required:!0}))]}),Object(rt.jsxs)("label",{className:"form__label",children:[Object(rt.jsx)("span",{className:"form__name",children:"Number"}),Object(rt.jsx)("input",Object(Y.a)(Object(Y.a)({className:"form__input"},c.bind),{},{autoComplete:"off",type:"tel",name:"number",placeholder:"+38(073) 777 77 77",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"The phone number must be digits and can contain spaces, dashes, parentheses and can start with + ",required:!0}))]}),Object(rt.jsx)("button",{className:"form__button",type:"submit",children:"Add contact"})]})},ot=n(23),it=n(0),st=(n(87),function(t){var e=t.title,n=t.type;return Object(rt.jsx)("h2",{className:"title ".concat(n),children:e})}),ut=(n(88),function(){var t=Object(d.c)(r.getFilter),e=Object(d.b)();return Object(rt.jsx)("div",{className:"filter__wrapper",children:Object(rt.jsxs)("label",{className:"filter__label",children:[Object(rt.jsx)("span",{className:"filter__name",children:"Find contacts by name or number"}),Object(rt.jsx)("input",{className:"filter__input",placeholder:"Enter name or number",type:"text",value:t,onChange:function(t){return e(c.changeFilter(t.currentTarget.value))}})]})})}),lt=(n(89),function(t){var e=t.message;return Object(rt.jsx)("h2",{className:"message",children:e})}),bt=n(35),ft=(n(90),["children","onClick"]),dt=function(t){var e=t.children,n=t.onClick,c=Object(bt.a)(t,ft);return Object(rt.jsx)("button",Object(Y.a)(Object(Y.a)({type:"button",className:"icon__button",onClick:n},c),{},{children:e}))};dt.defaultProps={onClick:function(){return null},children:null};var jt,Ot,ht=dt,pt=["title","titleId"];function mt(){return(mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t}).apply(this,arguments)}function vt(t,e){if(null==t)return{};var n,c,r=function(t,e){if(null==t)return{};var n,c,r={},a=Object.keys(t);for(c=0;c<a.length;c++)n=a[c],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(c=0;c<a.length;c++)n=a[c],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xt(t,e){var n=t.title,c=t.titleId,r=vt(t,pt);return u.createElement("svg",mt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",ref:e,"aria-labelledby":c},r),n?u.createElement("title",{id:c},n):null,jt||(jt=u.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),Ot||(Ot=u.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})))}var gt,Ct,wt=u.forwardRef(xt),yt=(n.p,n(91),function(){var t=Object(d.c)(r.getVisibleContacts),e=Object(d.b)(),n=Object(d.c)(r.getTotalContactsCount);return Object(rt.jsx)(rt.Fragment,{children:n<=0?Object(rt.jsx)(lt,{message:"no contacts yet ..."}):Object(rt.jsxs)(rt.Fragment,{children:[Object(rt.jsx)(st,{title:"Contacts",type:"h1"}),Object(rt.jsx)(ut,{}),Object(rt.jsx)("ul",{className:"contacts__list",children:t.map((function(t){var n=t.id,c=t.name,r=t.number;return Object(rt.jsxs)("li",{className:"contacts__item",children:[Object(rt.jsxs)("a",{className:"contacts__link",href:"tel:".concat(r),children:[Object(rt.jsxs)("p",{className:"contacts__name",children:[Object(rt.jsx)(it.b.Provider,{value:{className:"react__icons--user"},children:Object(rt.jsx)(ot.b,{})}),c]}),Object(rt.jsxs)("p",{className:"contacts__number",children:[Object(rt.jsx)(it.b.Provider,{value:{className:"react__icons--phone"},children:Object(rt.jsx)(ot.a,{})}),r]})]}),Object(rt.jsx)(ht,{onClick:function(){return function(t){return e(a.deleteContact(t))}(n)},"aria-label":"delete contact",children:Object(rt.jsx)(wt,{width:"20",height:"20",fill:"red"})})]},n)}))})]})})}),_t=(n(92),function(t){var e=t.direction,n=t.size,c=Object(u.useState)((function(){return(new Date).toLocaleTimeString()})),r=Object(M.a)(c,2),a=r[0],o=r[1],i=Object(u.useRef)(null);return Object(u.useEffect)((function(){return i.current=setInterval((function(){return o((new Date).toLocaleTimeString())}),1e3),function(){clearInterval(i.current)}}),[]),Object(rt.jsx)("div",{className:"clock__wrapper",style:{textAlign:"".concat(e)},children:Object(rt.jsx)("p",{className:"clock__face",style:{fontSize:"".concat(n,"px")},children:a})})}),Nt=function(t){var e=t.title,n=t.size,c=t.direction;return Object(rt.jsx)("h1",{className:"main__title",style:{fontSize:"".concat(n,"rem"),textAlign:"".concat(c)},children:e})},kt=function(t){var e=t.title,n=Object(d.c)(r.getTotalContactsCount);return Object(rt.jsxs)("div",{style:{fontSize:"2rem"},children:[e," ",n]})},Et=(n(93),document.querySelector("#modal-root")),St=function(t){var e=t.children,n=t.onClose,c=Object(u.useCallback)((function(t){"Escape"===t.code&&n()}),[n]);return Object(u.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}),[c]),Object(b.createPortal)(Object(rt.jsx)("div",{className:"modal__backdrop",onClick:function(t){t.currentTarget===t.target&&n()},children:Object(rt.jsx)("div",{className:"modal__content",children:e})}),Et)},zt=["title","titleId"];function Tt(){return(Tt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t}).apply(this,arguments)}function Lt(t,e){if(null==t)return{};var n,c,r=function(t,e){if(null==t)return{};var n,c,r={},a=Object.keys(t);for(c=0;c<a.length;c++)n=a[c],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(c=0;c<a.length;c++)n=a[c],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pt(t,e){var n=t.title,c=t.titleId,r=Lt(t,zt);return u.createElement("svg",Tt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",ref:e,"aria-labelledby":c},r),n?u.createElement("title",{id:c},n):null,gt||(gt=u.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),Ct||(Ct=u.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})))}var Ft=u.forwardRef(Pt),It=(n.p,n(94),function(t){var e=t.children;return Object(rt.jsx)("div",{className:"flex__wrapper",children:e})}),Mt=function(){var t=Object(u.useState)(!1),e=Object(M.a)(t,2),n=e[0],c=e[1],o=Object(d.b)(),i=Object(d.c)(r.getLoading);Object(u.useEffect)((function(){o(a.fetchContacts())}),[o]);var s=function(){c(!n)};return Object(rt.jsxs)(rt.Fragment,{children:[Object(rt.jsx)(_t,{direction:"end",size:30}),Object(rt.jsx)(Nt,{title:"Phonebook",size:5,direction:"center"}),Object(rt.jsxs)(It,{children:[Object(rt.jsx)(kt,{title:"Total contacts:"}),Object(rt.jsx)(ht,{onClick:s,"aria-label":"add contact",children:Object(rt.jsx)(Ft,{width:"20",height:"20",fill:"#03a9f4"})})]}),n&&Object(rt.jsx)(St,{onClose:s,children:Object(rt.jsx)(at,{onClose:s})}),i?Object(rt.jsx)(q.a,{style:{textAlign:"center"},type:"ThreeDots",color:"#303f9f"}):Object(rt.jsx)(yt,{})]})},Rt=(n(95),function(t){var e=t.children;return Object(rt.jsx)("div",{className:"container",children:e})}),qt=function(){return Object(rt.jsx)(Rt,{children:Object(rt.jsx)(Mt,{})})};n(96),n(97);f.a.render(Object(rt.jsx)(l.a.StrictMode,{children:Object(rt.jsx)(d.a,{store:I,children:Object(rt.jsx)(qt,{})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.f940aabf.chunk.js.map